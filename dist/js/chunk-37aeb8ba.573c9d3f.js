(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37aeb8ba"],{"4adb":function(t,e,n){"use strict";var a=n("545c"),o=n.n(a);o.a},"4d12":function(t,e,n){"use strict";var a=n("edb2"),o=n.n(a);o.a},"545c":function(t,e,n){},"7f7f":function(t,e,n){var a=n("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in o||n("9e1e")&&a(o,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},e8c5:function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("AppHeader",{attrs:{fixed:""}},[n("SidebarToggler",{staticClass:"d-lg-none",attrs:{display:"md",mobile:""}}),n("b-link",{staticClass:"navbar-brand",attrs:{to:"#"}},[n("i",{staticClass:"icon-energy font-2xl",staticStyle:{"margin-top":"-6px"}}),t._v("\n       \n      "),n("h3",{staticStyle:{color:"black"}},[t._v("BOLT")])]),n("SidebarToggler",{staticClass:"d-md-down-none",attrs:{display:"lg"}}),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{staticClass:"d-md-down-none"},[n("DefaultHeaderDropdown")],1),n("b-nav-item",{},[n("DefaultHeaderDropdownAccnt")],1)],1),t._v(" \n    ")],1),n("div",{staticClass:"app-body"},[n("AppSidebar",{attrs:{fixed:""}},[n("SidebarHeader"),n("SidebarForm"),n("SidebarNav",{attrs:{navItems:t.navItems}}),n("SidebarFooter"),n("SidebarMinimizer")],1),n("main",{staticClass:"main"},[n("Breadcrumb",{attrs:{list:t.list}}),n("div",{staticClass:"container-fluid"},[n("router-view")],1)],1),n("AppAside",{attrs:{fixed:""}},[n("DefaultAside")],1)],1),n("TheFooter")],1)},s=[],r=(n("7f7f"),n("e19c")),i=n("bc3a"),c=n.n(i),l=[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer",badge:{variant:"primary",text:"NEW"}},{name:"Users",icon:"icon-user",children:[{name:"Staff",url:"/staff",icon:"icon-user"}]},{name:"Templates",url:"/templates",icon:"icon-envelope",children:[{name:"Email Templates",url:"/templates/email",icon:"icon-envelope"},{name:"SMS Templates",url:"/templates/sms",icon:"icon-envelope"}]},{name:"Communication Log",url:"/plugin/log",icon:"icon-settings"},{name:"Departments",url:"/department/list",icon:"icon-star"},{name:"Designations",url:"/designation/list",icon:"icon-star"},{name:"Heads",url:"/heads/list",icon:"icon-star"},{name:"Budget",icon:"icon-star",url:"/budget",children:[{name:"Total Budget",url:"/budget/total",icon:"icon-star"},{name:"Approved Budget",url:"/budget/approved",icon:"icon-star"}]},{name:"Transaction",url:"/transaction",icon:"icon-calculator"},{name:"Approval",url:"/approval",icon:"icon-calculator",children:[{name:"All Approvals",url:"/approval/view/all",icon:"icon-calculator"},{name:"Approval Requests",url:"/approval/view/pending",icon:"icon-calculator",badge:{variant:"danger",text:a}}]},{name:"Label",url:"/label",icon:"icon-calculator"}],d={items:l},u=n("f1fb"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Aside")])},m=[],f={name:"DefaultAside"},g=f,h=n("2877"),b=Object(h["a"])(g,p,m,!1,null,null,null),v=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppHeaderDropdown",{attrs:{right:"","no-caret":""}},[n("template",{slot:"header"},[n("i",{staticClass:"fa fa-language fa-lg "}),n("b-badge",{attrs:{pill:"",variant:"info"}})],1),n("template",{slot:"dropdown"},[n("div",{staticClass:"dropdown-menu-lg"},t._l(t.$ml.list,function(e){return n("b-dropdown-item",{key:e},[n("div",{staticClass:"message"},[n("div",{staticClass:"text-truncate font-weight-bold",domProps:{textContent:t._s(e)},on:{click:function(n){return t.$ml.change(e)}}})])])}),1)])],2)},C=[],y={name:"DefaultHeaderDropdown",components:{AppHeaderDropdown:u["f"]},data:function(){return{}}},_=y,x=Object(h["a"])(_,w,C,!1,null,null,null),$=x.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.tab?n("AppHeaderDropdown",{attrs:{right:"","no-caret":""}},[n("template",{slot:"header"},[n("i",{staticClass:"fa fa-user font-3xl"})]),t._v("\\\n  "),n("template",{slot:"dropdown"},[n("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"}},[n("strong",{domProps:{textContent:t._s(t.ssnCompany.company_name)},on:{click:function(e){return t.reRoute(t.ssnCompany._id)}}}),t._v("     "),n("b-badge",{attrs:{variant:"primary"},domProps:{textContent:t._s(t.$ml.get("switch"))},on:{click:t.toggleNavs}})],1),t.isUser?n("div",[n("b-dropdown-item",{on:{click:t.userDetails}},[n("b-card",{staticStyle:{border:"none"}},[n("b-row",[n("b-col",{attrs:{sm:"2"}},[n("i",{staticClass:"fa fa-user font-2xl"})]),n("b-col",{attrs:{sm:"6"}},[n("span",{domProps:{textContent:t._s(t.user.user_name)}})])],1)],1)],1)],1):t._e(),n("b-dropdown-item",{on:{click:t.Settings}},[n("i",{staticClass:"fa fa-wrench"}),n("span",{domProps:{textContent:t._s(t.$ml.get("settings"))}})]),n("b-dropdown-item",{on:{click:t.Plugin}},[n("i",{staticClass:"fa fa-file"}),n("span",{domProps:{textContent:t._s(t.$ml.get("extensions"))}})]),n("b-dropdown-divider"),n("b-dropdown-item",{on:{click:t.Logout}},[n("i",{staticClass:"fa fa-lock"}),n("span",{domProps:{textContent:t._s(t.$ml.get("logout"))}})])],1)],2):t.tab?t._e():n("AppHeaderDropdown",{attrs:{right:"","no-caret":""}},[n("template",{slot:"header"},[n("i",{staticClass:"fa fa-user font-3xl"})]),t._v("\\\n  "),n("template",{slot:"dropdown"},[n("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"}},[n("strong",{domProps:{textContent:t._s(t.$ml.get("companylist"))}}),t._v("     "),n("b-badge",{attrs:{variant:"primary"},domProps:{textContent:t._s(t.$ml.get("switch"))},on:{click:t.toggleNavs}})],1),n("v-for",t._l(t.data,function(e,a){return n("b-dropdown-item",{key:a,on:{click:function(e){return t.setSsn(t.data[a]._id)}}},[n("i",{staticClass:"fa fa-user"}),n("span",{domProps:{textContent:t._s(t.data[a].company_name)}})])}),1),n("b-dropdown-divider"),n("b-dropdown-item",{on:{click:t.addCompany}},[n("i",{staticClass:"fa fa-plus"}),n("span",{domProps:{textContent:t._s(t.$ml.get("addnewcompany"))}})]),n("b-dropdown-divider"),n("b-dropdown-item",{on:{click:t.Logout}},[n("i",{staticClass:"fa fa-lock"}),n("span",{domProps:{textContent:t._s(t.$ml.get("logout"))}})])],1)],2)},D=[],k=(n("96cf"),n("3b8d")),A=(n("4767"),n("789a")),H={name:"DefaultHeaderDropdownAccnt",components:{AppHeaderDropdown:u["f"]},data:function(){return{tab:!0,data:[],ssnCompany:{},user:null,isUser:!1}},mounted:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$session.has("user")&&c.a.get("".concat(r["a"])+"company/list",{withCredentials:!0}).then(function(t){n.data=t.data,n.ssnCompany=n.data[0],c.a.get("".concat(r["a"])+"company/".concat(n.ssnCompany._id),{withCredentials:!0}).then(function(t){n.$session.set("company",t.data._id)})}),this.$session.has("Subuser")&&(e=this.$session.get("Subuser"),this.user=e,this.isUser=!0,c.a.get("".concat(r["a"])+"company/".concat(e.company),{withCredentials:!0}).then(function(t){n.data=[t.data],n.ssnCompany=t.data,n.$session.set("company",t.data._id),console.log(n.ssnCompany)}));case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{userDetails:function(){this.$router.push("user/details/".concat(this.user._id))},Settings:function(){console.log("settings"),this.$router.push("/settings")},Plugin:function(){console.log("plugin"),this.$router.push("/plugin")},toggleNavs:function(){this.tab=!this.tab,console.log("toggle")},addCompany:function(){console.log("add company"),this.$router.push("/add/company")},setSsn:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:c.a.get("".concat(r["a"])+"company/".concat(e),{withCredentials:!0}).then(function(t){n.ssnCompany=t.data,n.tab=!n.tab,console.log(n.ssnCompany)});case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),Logout:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$session.has("Subuser")?c.a.post("".concat(r["a"])+"user/subuser/logout",{withCredentials:!0}).then(function(t){A["a"].logout(),e.$session.destroy(),delete sessionStorage["vue-session-key"],console.log(A["a"].loggedIn),e.$router.push("/login")}).catch(function(t){console.log(t)}):c.a.get("".concat(r["a"])+"auth/super/logout",{withCredentials:!0}).then(function(t){A["a"].logout(),e.$session.destroy(),delete sessionStorage["vue-session-key"],console.log(A["a"].loggedIn),e.$router.push("/login")}).catch(function(t){console.log(t)});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reRoute:function(t){this.$router.push("/company/".concat(t))}}},P=H,T=(n("4adb"),Object(h["a"])(P,S,D,!1,null,null,null)),R=T.exports,j={name:"DefaultContainer",components:{AsideToggler:u["b"],AppHeader:u["e"],AppSidebar:u["g"],AppAside:u["a"],TheFooter:u["d"],Breadcrumb:u["c"],DefaultAside:v,DefaultHeaderDropdown:$,DefaultHeaderDropdownAccnt:R,SidebarForm:u["i"],SidebarFooter:u["h"],SidebarToggler:u["m"],SidebarHeader:u["j"],SidebarNav:u["l"],SidebarMinimizer:u["k"]},data:function(){return{navItems:[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer",badge:{variant:"primary",text:"NEW"}},{name:"Permissions",url:"/permissions",icon:"icon-settings"}]}},beforeMount:function(){if(this.$session.has("subuser"))for(var t=this.$session.get("user").permissions,e=0;e<t.length;e++)void 0!=t[e].module_name&&this.navItems.push({name:"".concat(t[e].module_name),url:"".concat(t[e].module_name,"/list"),icon:"icon-star"});else this.navItems=d.items},computed:{name:function(){return this.$route.name},list:function(){return this.$route.matched.filter(function(t){return t.name||t.meta.label})}}},O=j,E=(n("4d12"),Object(h["a"])(O,o,s,!1,null,null,null));e["default"]=E.exports},edb2:function(t,e,n){}}]);
//# sourceMappingURL=chunk-37aeb8ba.573c9d3f.js.map